# GPT-5.1 Telegram Bot ü§ñ

Dockerfile (–†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ô)

# –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –∏ –ª—ë–≥–∫–∏–π Python

FROM python:3.11-slim

# –û—Ç–∫–ª—é—á–∞–µ–º –ª–∏—à–Ω–µ–µ

ENV PYTHONDONTWRITEBYTECODE=1
ENV PYTHONUNBUFFERED=1

# –†–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

WORKDIR /app

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–º–∏–Ω–∏–º—É–º)

RUN apt-get update && apt-get install -y \
 gcc \
 && rm -rf /var/lib/apt/lists/\*

# –ö–æ–ø–∏—Ä—É–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

COPY requirements.txt .

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Python-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

RUN pip install --no-cache-dir -r requirements.txt

# –ö–æ–ø–∏—Ä—É–µ–º –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç

COPY . .

# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

CMD ["python", "bot.py"]

üì¶ requirements.txt (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

–£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å requirements.txt.
–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–±–æ—á–∏–π –≤–∞—Ä–∏–∞–Ω—Ç:

pyTelegramBotAPI>=4.14.0
google-generativeai>=0.5.0
python-dotenv>=1.0.0

(–ï—Å–ª–∏ –≤–µ—Ä—Å–∏–∏ —É–∂–µ –µ—Å—Ç—å ‚Äî –æ—Å—Ç–∞–≤—å —Å–≤–æ–∏.)

üîê .env.example (–†–ï–ö–û–ú–ï–ù–î–£–Æ –ü–†–ò–õ–û–ñ–ò–¢–¨)
BOT_TOKEN=telegram_bot_token_here
ADMIN_ID=123456789
GOOGLE_API_KEY=google_gemini_api_key_here
DB_NAME=bot_database

‚ö†Ô∏è .env –ù–ï –∫–ª–∞—Å—Ç—å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, —Ç–æ–ª—å–∫–æ .env.example.

‚ñ∂Ô∏è –ö–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
1Ô∏è‚É£ –°–±–æ—Ä–∫–∞
docker build -t telegram-ai-bot .

2Ô∏è‚É£ –ó–∞–ø—É—Å–∫
docker run -d \
 --name telegram-ai-bot \
 --env-file .env \
 --restart unless-stopped \
 telegram-ai-bot

üíæ –ü—Ä–æ –ë–î (–í–ê–ñ–ù–û)

SQLite —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç—å –ø—Ä–∏ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–µ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ volume:

docker run -d \
 --name telegram-ai-bot \
 --env-file .env \
 --restart unless-stopped \
 -v bot_data:/app \
 telegram-ai-bot

–∏–ª–∏

-v ./data:/app

(–µ—Å–ª–∏ —Ö–æ—Ç—è—Ç —Ö—Ä–∞–Ω–∏—Ç—å –ë–î –Ω–∞ —Ö–æ—Å—Ç–µ)

–û—Ç–ª–∏—á–Ω–æ. –ù–∏–∂–µ ‚Äî **–¥–≤–∞ –≥–æ—Ç–æ–≤—ã—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞**, –∫–æ—Ç–æ—Ä—ã–µ —Ç—ã –º–æ–∂–µ—à—å **–ø—Ä—è–º–æ –ø–æ–ª–æ–∂–∏—Ç—å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π** –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É:

1Ô∏è‚É£ `README.md` ‚Äî –∑–∞—Ç–æ—á–µ–Ω **–ø–æ–¥ Docker / –æ–±–ª–∞—á–Ω—ã–π –¥–µ–ø–ª–æ–π**
2Ô∏è‚É£ `docker-compose.yml` ‚Äî –ø—Ä–æ—Å—Ç–æ–π, –Ω–∞–¥—ë–∂–Ω—ã–π, –±–µ–∑ –ª–∏—à–Ω–µ–≥–æ

–ù–∏–∫–∞–∫–æ–π –≤–æ–¥—ã, –≤—Å—ë –ø–æ –¥–µ–ª—É.

---

# üìò README.md (–ø–æ–¥ Docker)

```markdown
# Telegram AI Bot (Docker)

Telegram-–±–æ—Ç —Å AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º –Ω–∞ Python.  
–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –≤ –æ–±–ª–∞–∫–µ —á–µ—Ä–µ–∑ Docker.

---

## üìå –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- –Ø–∑—ã–∫: Python 3.11
- Telegram –±–∏–±–ª–∏–æ—Ç–µ–∫–∞: pyTelegramBotAPI
- AI: Google Gemini API
- –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö: SQLite
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: —Ñ–∏–Ω–∞–ª—å–Ω–∞—è, –±–µ–∑ –ø–ª–∞–Ω–æ–≤ –Ω–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ

–ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ **long polling**, webhook –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û –ü–†–û –†–ï–ì–ò–û–ù

Google Gemini API **–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –†–§ –ø–æ IP**.

‚ùó –ë–æ—Ç **–¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –≤ –æ–±–ª–∞–∫–µ / VPS –≤–Ω–µ –†–§**  
(EU / US ‚Äî –ø–æ–¥—Ö–æ–¥–∏—Ç).

–ö–æ–¥ —Ä–∞–±–æ—á–∏–π, VPN –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ **–Ω–µ –Ω—É–∂–µ–Ω**, –µ—Å–ª–∏ —Ä–µ–≥–∏–æ–Ω —Å–µ—Ä–≤–µ—Ä–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```

.
‚îú‚îÄ‚îÄ bot.py # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ Telegram-–±–æ—Ç–∞
‚îú‚îÄ‚îÄ db.py # –†–∞–±–æ—Ç–∞ —Å –ë–î –∏ –¥–Ω–µ–≤–Ω—ã–º–∏ –ª–∏–º–∏—Ç–∞–º–∏
‚îú‚îÄ‚îÄ functions.py # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AI (–ª–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è)
‚îú‚îÄ‚îÄ requirements.txt # Python-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ .env.example
‚îî‚îÄ‚îÄ README.md

````

---

## üîê –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª `.env` (–Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`):

```env
BOT_TOKEN=telegram_bot_token_here
ADMIN_ID=123456789
GOOGLE_API_KEY=google_gemini_api_key_here
DB_NAME=bot_database
````

‚ùó `.env` **–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å** –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

---

## üê≥ –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### 1Ô∏è‚É£ –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
docker compose up -d --build
```

### 2Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

```bash
docker compose logs -f
```

–í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:

```
ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ
```

---

## üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
docker compose down
```

---

## üíæ –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (SQLite)

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ volume Docker.

- –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏
- –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–µ —É–¥–∞–ª—è–µ—Ç –ë–î

---

## üß† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ (–≤–∞–∂–Ω–æ –Ω–µ –ª–æ–º–∞—Ç—å)

- –õ–∏–º–∏—Ç: **150 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å—É—Ç–∫–∏ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
- –õ–∏–º–∏—Ç —Å—á–∏—Ç–∞–µ—Ç—Å—è –∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è **–≤ db.py**
- –ë–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é **–Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**
- AI –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è **–ª–µ–Ω–∏–≤–æ** (–ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ)
- –ù–µ –¥–æ–±–∞–≤–ª—è—Ç—å –ø–ª–∞—Ç–µ–∂–∏, –ø—Ä–æ–º–æ–∫–æ–¥—ã, —Ç–∞—Ä–∏—Ñ—ã

---

## üöÄ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

```bash
docker compose pull
docker compose up -d --build
```

---

## üìé –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç —Å—á–∏—Ç–∞–µ—Ç—Å—è **–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–º**.
–ò–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –¥–µ–ø–ª–æ—è, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.

````

---

# üê≥ docker-compose.yml

```yaml
version: "3.9"

services:
  telegram-bot:
    build: .
    container_name: telegram-ai-bot
    restart: unless-stopped
    env_file:
      - .env
    volumes:
      - bot_data:/app
````
